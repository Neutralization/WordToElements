<td></td>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Word to Elements</title>

<head>
    <style>
        html {
            background: #efefef;
        }

        div {
            /* width: 50%; */
            position: relative;
            text-align: left;
            font-weight: bold;
            margin: auto;
            display: flex;
            justify-content: center;
            /* align-items: center; */
            /* flex-grow: 1; */
            /* overflow: hidden; */
        }

        input {
            margin: auto;
            font-size: 42px;
            text-align: center;
            margin-top: 10%;
        }

        h2 {
            margin-left: 20%;
            margin-right: 20%;
            line-height: 2;
            text-align: left;
            font-weight: normal;
        }

        p {
            margin-left: 20%;
            margin-right: 20%;
            line-height: 2;
            font-size: 20px;
            text-align: left;
            font-weight: normal;
        }

        a {
            text-decoration: none;
            color: #66ccff
        }

        table {
            margin: auto;
            margin-top: 50px;
            display: flex;
            justify-content: center;
        }

        .content {
            margin-left: 20%;
            margin-right: 20%;
            text-align: left;
            display: contents;
        }

        .ele {
            background-color: #ffffff;
            border: solid 2px #03a9f4;
            overflow: hidden;
            width: 70;
            height: 70;
        }

        .letter {
            position: absolute;
            text-align: center;
            font-size: 42;
            Font-weight: bold;
            top: 10%;
        }

        .number {
            position: absolute;
            font-size: 10px;
            top: 1%;
            left: 2%;
        }
    </style>
    </style>
</head>

<body>
    <div><input id="words" type="text"></div>
    <table id="elements">
        <tr>
            <td>
                <div class="ele">
                    <div class="letter">Pr</div>
                    <div class="number">59</div>
                </div>
            </td>
            <td>
                <div class="ele">
                    <div class="letter">Ac</div>
                    <div class="number">89</div>
                </div>
            </td>
            <td>
                <div class="ele">
                    <div class="letter">Ti</div>
                    <div class="number">22</div>
                </div>
            </td>
            <td>
                <div class="ele">
                    <div class="letter">Ce</div>
                    <div class="number">58</div>
                </div>
            </td>
        </tr>
    </table>
    <div class="content">
        <h2>Free Talk</h2>
        <p>　　这是一个将英文单词拆成化学元素符号的工具，尝试使用118个元素符号组成输入的单词。
            <br>　　但是元素符号不够用，于是加入了Adobe全家桶，也不够用，剩下的就摆烂了。
            <br>　　
            <br>　　时隔多年才摸出来这个页面，代码丑陋很抱歉，请随意玩耍。
        </p>

        <h2>Github</h2>
        <p><a href="https://github.com/Neutralization/WordToElements"
                target="_blank">　　https://github.com/Neutralization/WordToElements</a></p>
    </div>
    <script type="text/javascript">
        let table = document.getElementById("elements")
        words.addEventListener("input", function (e) {
            let origin = this.value
            origin = origin.replace(/[^a-z]/gi, "")
            let PeriodicTable = [
                "H", "He",
                "Li", "Be", "B", "C", "N", "O", "F", "Ne",
                "Na", "Mg", "Al", "Si", "P", "S", "Cl", "Ar",
                "K", "Ca", "Sc", "Ti", "V", "Cr", "Mn", "Fe", "Co", "Ni", "Cu", "Zn", "Ga", "Ge", "As", "Se", "Br", "Kr",
                "Rb", "Sr", "Y", "Zr", "Nb", "Mo", "Tc", "Ru", "Rh", "Pd", "Ag", "Cd", "In", "Sn", "Sb", "Te", "I", "Xe",
                "Cs", "Ba", "La", "Ce", "Pr", "Nd", "Pm", "Sm", "Eu", "Gd", "Tb", "Dy", "Ho", "Er", "Tm", "Yb", "Lu", "Hf", "Ta", "W", "Re", "Os", "Ir", "Pt", "Au", "Hg", "Tl", "Pb", "Bi", "Po", "At", "Rn",
                "Fr", "Ra", "Ac", "Th", "Pa", "U", "Np", "Pu", "Am", "Cm", "Bk", "Cf", "Es", "Fm", "Md", "No", "Lr", "Rf", "Db", "Sg", "Bh", "Hs", "Mt", "Ds", "Rg", "Cn", "Nh", "Fl", "Mc", "Lv", "Ts", "Og",
            ]
            const regex = /(Ae|Ai|An|Ar|Au|Be|Br|Ca|Ch|Cp|Dn|Ds|Dw|Fb|Fm|Fr|Fs|Ic|Id|Lr|Md|Me|Pf|Pl|Pn|Pr|Ps|Pt|Rh|Ru|Sa|Sc|Sg|Sp|St|Xd)|(He|Li|Be|Ne|Na|Mg|Al|Si|Cl|Ar|Ca|Sc|Ti|Cr|Mn|Fe|Co|Ni|Cu|Zn|Ga|Ge|As|Se|Br|Kr|Rb|Sr|Zr|Nb|Mo|Tc|Ru|Rh|Pd|Ag|Cd|In|Sn|Sb|Te|Xe|Cs|Ba|Lu|Hf|Ta|Re|Os|Ir|Pt|Au|Hg|Tl|Pb|Bi|Po|At|Rn|Fr|Ra|Lr|Rf|Db|Sg|Bh|Hs|Mt|Ds|Rg|Cn|Nh|Fl|Mc|Lv|Ts|Og|La|Ce|Pr|Nd|Pm|Sm|Eu|Gd|Tb|Dy|Ho|Er|Tm|Yb|Ac|Th|Pa|Np|Pu|Am|Cm|Bk|Cf|Es|Fm|Md|No)|([HBCNOFPSKVYIWU])|([^aeiou][aeiou])|(.{1,2})/gmi;

            // const str = `hippopotomonstrosesquipedaliophobia`; 可以试试这个长单词恐惧症
            const result = [];

            function guess(w) {
                if (w.length == 0) {
                    return true
                }
                let m;
                while ((m = regex.exec(w)) !== null) {
                    if (m.index === regex.lastIndex) {
                        regex.lastIndex++;
                    }
                    m.forEach((match, groupIndex) => {
                        if (groupIndex != 0 && match != undefined) {
                            result.push([match, groupIndex]);
                        }
                    });
                }
            }

            function judge(t) {
                guess(t.toLowerCase())
                // console.log(result)
                let row = table.insertRow(0)
                document.getElementsByTagName("tr")[1].remove()
                for (let i = 0; i < result.length; i++) {
                    let cell = row.insertCell(i)
                    let e = result[i][0]
                    e = e[0].toUpperCase() + e.substring(1)
                    if (result[i][1] > 3) {
                        cell.innerHTML = `<div class="ele" style="background-color: #ffffff;"><div class="letter">` + e + `</div></div>`
                    }
                    else if (result[i][1] > 1) {
                        let number = PeriodicTable.indexOf(e) + 1
                        const arr = ["#d95836", "#e8ad10", "#a6aa13", "#2b8b92", "#ff99cc", "#f7d857", "#94d7e5",]
                        cell.innerHTML = `<div class="ele" style="background-color: ` + arr[Math.floor(Math.random() * arr.length)] + `"><div class="letter">` + e + `</div><div class="number">` + number + `</div></div>`
                    }
                    else if (result[i][1] > 0) {
                        cell.innerHTML = `<div class="ele" style="background-color: #ffffff; background-image: url(https://raw.githubusercontent.com/Neutralization/WordToElements/main/Adobe/` + e + `.jpg); background-size: cover;"><div class="letter"></div></div>`
                    }
                }
                return true
            }
            judge(origin)
        })
        document.getElementById("words").value = "Practice"
    </script>
</body>

</html>